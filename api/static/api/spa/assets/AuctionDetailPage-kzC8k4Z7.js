import{d as _,r as d,p as x,q as f,c as n,o as l,f as y,e as t,N as k,i as B,l as b,t as i,n as C,s as A,m as N,a as D,_ as I}from"./index-CZhFxXEf.js";const P={class:"page-wrapper"},L={class:"main-content"},S={class:"page-container"},V={key:0,class:"loading-state"},E={key:1,class:"error-state"},$={key:2,class:"auction-detail"},q={class:"auction-grid"},F={class:"auction-image-section"},M={class:"auction-image-container"},R=["src","alt"],j={key:1,class:"no-image"},z={class:"auction-info-section"},H={class:"auction-header"},Q={class:"auction-title"},T={class:"auction-description"},U={class:"price-section"},G={class:"price-item"},J={class:"price-value"},K={class:"price-item current"},O={class:"price-value highlight"},W={class:"auction-meta"},X={class:"meta-item"},Y={class:"meta-value"},Z={class:"meta-item"},tt={class:"meta-value"},et={class:"meta-item"},st={class:"meta-value"},at="http://localhost:8000/api",it=_({__name:"AuctionDetailPage",setup(ot){const h=D(),g=N(),s=d(null),r=d(!0),o=d(null),m=x(()=>{if(!s.value?.owner)return"Unknown";const{first_name:a,last_name:e,email:c}=s.value.owner;return a||e?`${a} ${e}`.trim():c});function u(a){return"Â£"+parseFloat(a).toFixed(2)}function v(a){return new Date(a).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function w(){g.push({name:"home"})}async function p(){const a=h.params.id;if(!a){o.value="No auction ID provided",r.value=!1;return}r.value=!0,o.value=null;try{const e=await fetch(`${at}/auctions/${a}/`,{credentials:"include"});if(!e.ok){e.status===404?o.value="Auction not found":o.value="Failed to load auction details";return}const c=await e.json();s.value=c.item}catch(e){o.value="Could not connect to the server",console.error(e)}finally{r.value=!1}}return f(()=>{p()}),(a,e)=>(l(),n("div",P,[y(k),t("main",L,[t("div",S,[t("button",{class:"back-btn",onClick:w},[...e[0]||(e[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"m15 18-6-6 6-6"})],-1),b(" Back to Auctions ",-1)])]),r.value?(l(),n("div",V,[...e[1]||(e[1]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"Loading auction details...",-1)])])):o.value?(l(),n("div",E,[e[2]||(e[2]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})],-1)),t("p",null,i(o.value),1),t("button",{class:"retry-btn",onClick:p},"Try Again")])):s.value?(l(),n("div",$,[t("div",q,[t("div",F,[t("div",M,[s.value.image?(l(),n("img",{key:0,src:s.value.image,alt:s.value.title,class:"auction-image"},null,8,R)):(l(),n("div",j,[...e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),t("circle",{cx:"9",cy:"9",r:"2"}),t("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})],-1),t("span",null,"No Image Available",-1)])]))])]),t("div",z,[t("div",H,[t("h1",Q,i(s.value.title),1),t("span",{class:C(["status-badge",s.value.is_active?"active":"ended"])},i(s.value.is_active?"Active":"Ended"),3)]),t("p",T,i(s.value.description),1),t("div",U,[t("div",G,[e[4]||(e[4]=t("span",{class:"price-label"},"Starting Price",-1)),t("span",J,i(u(s.value.starting_price)),1)]),t("div",K,[e[5]||(e[5]=t("span",{class:"price-label"},"Current Price",-1)),t("span",O,i(u(s.value.current_price)),1)])]),t("div",W,[t("div",X,[e[6]||(e[6]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),t("circle",{cx:"12",cy:"7",r:"4"})],-1)),e[7]||(e[7]=t("span",{class:"meta-label"},"Seller:",-1)),t("span",Y,i(m.value),1)]),t("div",Z,[e[8]||(e[8]=A('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-ea36e7c3><rect width="18" height="18" x="3" y="4" rx="2" ry="2" data-v-ea36e7c3></rect><line x1="16" x2="16" y1="2" y2="6" data-v-ea36e7c3></line><line x1="8" x2="8" y1="2" y2="6" data-v-ea36e7c3></line><line x1="3" x2="21" y1="10" y2="10" data-v-ea36e7c3></line></svg><span class="meta-label" data-v-ea36e7c3>Listed:</span>',2)),t("span",tt,i(v(s.value.created_at)),1)]),t("div",et,[e[9]||(e[9]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})],-1)),e[10]||(e[10]=t("span",{class:"meta-label"},"Ends:",-1)),t("span",st,i(v(s.value.ends_at)),1)])]),e[11]||(e[11]=t("div",{class:"bidding-section"},[t("h3",null,"Place a Bid"),t("p",{class:"placeholder-text"},"Bidding interface coming soon (Issue #13)")],-1))])]),e[12]||(e[12]=t("div",{class:"qa-section"},[t("h2",null,"Questions & Answers"),t("div",{class:"qa-placeholder"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})]),t("p",null,"Q&A section coming soon (Issue #15)")])],-1))])):B("",!0)])])]))}}),lt=I(it,[["__scopeId","data-v-ea36e7c3"]]);export{lt as default};
