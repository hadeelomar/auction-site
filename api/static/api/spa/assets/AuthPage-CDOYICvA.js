import{d as B,u as N,r as w,a as O,b as y,c as r,o as i,e,f as S,w as P,g as V,t as n,h as D,i as u,j as m,v,k as M,n as j,l as A,m as E,_ as F}from"./index-CZhFxXEf.js";const I="/static/api/spa/assets/image-DmO4_5a7.png",U={class:"auth-container"},R={class:"form-side"},G={class:"form-container"},L={class:"reveal-box"},T={class:"welcome-text"},z={class:"reveal-box reveal-delay-1"},J={class:"form-title"},W={key:0,class:"form-group reveal-box reveal-delay-2"},Z={key:0,class:"error-message"},$={class:"form-group reveal-box reveal-delay-2"},q={key:0,class:"error-message"},H={key:1,class:"form-group reveal-box reveal-delay-2"},K={key:0,class:"error-message"},Q={class:"form-group reveal-box reveal-delay-3"},X={class:"label-row"},Y={class:"password-wrapper"},ee=["type"],se={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},oe={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},te={key:0,class:"error-message"},ae={key:2,class:"form-group reveal-box reveal-delay-4"},le={key:0,class:"error-message"},re={key:3,class:"api-error reveal-box"},ie={class:"reveal-box reveal-delay-4"},ne=["disabled"],de={key:0},ue={key:1},pe={class:"reveal-box reveal-delay-5"},me={class:"toggle-text"},ce=B({__name:"AuthPage",setup(fe){const h=E(),b=O(),g=N(),l=w(b.path==="/signup"),c=w(!1),p=w(!1),o=y({fullName:"",email:"",dateOfBirth:"",password:"",passwordConfirm:""}),t=y({fullName:"",email:"",dateOfBirth:"",password:"",passwordConfirm:"",api:""}),_=()=>{l.value=!l.value,h.replace(l.value?"/signup":"/login"),Object.keys(o).forEach(a=>{o[a]=""}),Object.keys(t).forEach(a=>{t[a]=""})},k=()=>{let a=!0;return Object.keys(t).forEach(f=>{t[f]=""}),l.value&&o.fullName.trim().length<3&&(t.fullName="Full name must be at least 3 characters",a=!1),/\S+@\S+\.\S+/.test(o.email)||(t.email="Invalid email address",a=!1),l.value&&o.dateOfBirth&&new Date(o.dateOfBirth)>new Date&&(t.dateOfBirth="Date of birth cannot be in the future",a=!1),o.password.length<6&&(t.password="Password must be at least 6 characters long",a=!1),l.value&&o.password!==o.passwordConfirm&&(t.passwordConfirm="Passwords do not match",a=!1),a},x=async()=>{if(k()){p.value=!0,t.api="";try{let a;l.value?a=await g.signup(o.fullName,o.email,o.password,o.passwordConfirm,o.dateOfBirth):a=await g.login(o.email,o.password),a.success?await h.push("/"):t.api=a.error||"Authentication failed"}catch{t.api="An unexpected error occurred"}finally{p.value=!1}}},C=()=>{console.log("Forgot password clicked")};return(a,s)=>{const f=V("router-link");return i(),r("div",U,[e("div",R,[e("div",G,[S(f,{to:"/",class:"logo"},{default:P(()=>[...s[6]||(s[6]=[e("div",{class:"logo-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8"}),e("path",{d:"m16 16 6-6"}),e("path",{d:"m8 8 6-6"}),e("path",{d:"m9 7 8 8"}),e("path",{d:"m21 11-8-8"})])],-1),e("span",{class:"logo-text"},"Bido",-1)])]),_:1}),e("div",L,[e("p",T,n(l.value?"Join us today!":"Welcome back"),1)]),e("div",z,[e("h1",J,n(l.value?"Sign up":"Sign in"),1)]),e("form",{onSubmit:D(x,["prevent"]),class:"auth-form"},[l.value?(i(),r("div",W,[s[7]||(s[7]=e("label",{for:"fullName",class:"form-label"},"Full Name",-1)),m(e("input",{id:"fullName","onUpdate:modelValue":s[0]||(s[0]=d=>o.fullName=d),type:"text",class:"form-input",placeholder:"Enter your full name"},null,512),[[v,o.fullName]]),t.fullName?(i(),r("span",Z,n(t.fullName),1)):u("",!0)])):u("",!0),e("div",$,[s[8]||(s[8]=e("label",{for:"email",class:"form-label"},"Email",-1)),m(e("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=d=>o.email=d),type:"email",class:"form-input",placeholder:"example@email.com"},null,512),[[v,o.email]]),t.email?(i(),r("span",q,n(t.email),1)):u("",!0)]),l.value?(i(),r("div",H,[s[9]||(s[9]=e("label",{for:"dateOfBirth",class:"form-label"},"Date of Birth",-1)),m(e("input",{id:"dateOfBirth","onUpdate:modelValue":s[2]||(s[2]=d=>o.dateOfBirth=d),type:"date",class:"form-input"},null,512),[[v,o.dateOfBirth]]),t.dateOfBirth?(i(),r("span",K,n(t.dateOfBirth),1)):u("",!0)])):u("",!0),e("div",Q,[e("div",X,[s[10]||(s[10]=e("label",{for:"password",class:"form-label"},"Password",-1)),l.value?u("",!0):(i(),r("button",{key:0,type:"button",class:"forgot-link",onClick:C}," Forgot Password ? "))]),e("div",Y,[m(e("input",{id:"password","onUpdate:modelValue":s[3]||(s[3]=d=>o.password=d),type:c.value?"text":"password",class:"form-input",placeholder:"Enter your password"},null,8,ee),[[M,o.password]]),e("button",{type:"button",class:"password-toggle",onClick:s[4]||(s[4]=d=>c.value=!c.value)},[c.value?(i(),r("svg",se,[...s[11]||(s[11]=[e("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"},null,-1),e("circle",{cx:"12",cy:"12",r:"3"},null,-1)])])):(i(),r("svg",oe,[...s[12]||(s[12]=[e("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"},null,-1),e("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"},null,-1),e("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"},null,-1),e("line",{x1:"2",x2:"22",y1:"2",y2:"22"},null,-1)])]))])]),t.password?(i(),r("span",te,n(t.password),1)):u("",!0)]),l.value?(i(),r("div",ae,[s[13]||(s[13]=e("label",{for:"passwordConfirm",class:"form-label"},"Confirm Password",-1)),m(e("input",{id:"passwordConfirm","onUpdate:modelValue":s[5]||(s[5]=d=>o.passwordConfirm=d),type:"password",class:"form-input",placeholder:"Confirm your password"},null,512),[[v,o.passwordConfirm]]),t.passwordConfirm?(i(),r("span",le,n(t.passwordConfirm),1)):u("",!0)])):u("",!0),t.api?(i(),r("div",re,n(t.api),1)):u("",!0),e("div",ie,[e("button",{type:"submit",class:j(["submit-button",{loading:p.value}]),disabled:p.value},[p.value?(i(),r("span",ue,"Loading...")):(i(),r("span",de,n(l.value?"SIGN UP":"SIGN IN"),1)),s[14]||(s[14]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14"}),e("path",{d:"m12 5 7 7-7 7"})],-1))],10,ne)]),e("div",pe,[e("p",me,[A(n(l.value?"Already have an account ?":"I don't have an account ?")+" ",1),e("button",{type:"button",class:"toggle-link",onClick:_},n(l.value?"Sign in":"Sign up"),1)])])],32)])]),s[15]||(s[15]=e("div",{class:"decorative-side"},[e("img",{src:I,alt:"Shopping illustration",class:"decorative-image"})],-1))])}}}),we=F(ce,[["__scopeId","data-v-ae7c8a63"]]);export{we as default};
